<ion-app>
  <ion-split-pane>
    <ion-menu class="sidemenu" side="end" type="overlay">
      <ion-content class="content">
        <div>
          <div *ngIf="(user$ | async)" class="profile-block" (click)="goToPage('profile/detail')">
            <div class="profile-image">
              <img [lazyLoad]="(user$ | async).avatar" />
            </div>
            <ion-text color="light">{{(user$ | async)?.name}}</ion-text>
          </div>
          <div class="menu">
            <div class="menu-item" *ngIf="!(user$ | async)">
              <ion-button (click)="goToPage('login')" Fill="clear" class="block">
                <div class="icon">
                  <ion-icon mode="ios" slot="start" name="log-in"></ion-icon>
                </div>
                <!-- <div class="text">
                  Login
                </div> -->
              </ion-button>
            </div>
            <div class="menu-item">
              <ion-button (click)="goToPage('home')" Fill="clear" class="block">
                <div class="icon">
                  <ion-icon mode="ios" slot="start" name="home"></ion-icon>
                </div>
                <!-- <div class="text">
                  Home
                </div> -->
              </ion-button>
            </div>
            <div class="menu-item">
              <ion-button (click)="goToPage('profile/messages')" Fill="clear" class="block">
                <div class="icon">
                  <ion-icon mode="ios" slot="start" name="chatbubbles"></ion-icon>
                </div>
                <!-- <div class="text">
                  Mensajes
                </div> -->
              </ion-button>
            </div>
            <div class="menu-item" *ngIf="(user$ | async)">
              <ion-button (click)="goToPage('logout')" Fill="clear" class="block">
                <div class="icon">
                  <ion-icon mode="ios" slot="start" name="log-out"></ion-icon>
                </div>
                <!-- <div class="text">
                  Logout
                </div> -->
              </ion-button>
            </div>

            <div class="menu-item">
              <div class="flag-img" (click)="changeLanguage()">
                <img *ngIf="this.currentLang === 'ar'" [lazyLoad]="'../assets/images/flag-sahara.svg'" />
                <img *ngIf="this.currentLang === 'es'" [lazyLoad]="'../assets/images/flag-spain.png'" />
              </div>
            </div>
          </div>
        </div>
      </ion-content>
    </ion-menu>
    <app-loading></app-loading>
    <div class="network" *ngIf="!(networkStatus$ | async)"><span translate>general.no-internet-connection</span></div>
    <ion-router-outlet [dir]="directionLang" main></ion-router-outlet>
  </ion-split-pane>
</ion-app>