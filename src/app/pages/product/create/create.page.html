<app-header title="[T]Create Product"></app-header>


<ion-content>
    <app-gallery-manager (changeGallery)="handleGallery($event)"></app-gallery-manager>
    <form [formGroup]="myGroup" (ngSubmit)="create()">
        <ion-grid>
            <ion-row color="primary" justify-content-center>
                <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
                    <ion-item class="ion-padding-vertical">
                        <ion-label position="floating">[T]Categoria</ion-label>
                        <ion-select formControlName="category" [interfaceOptions]="customActionSheetOptions"
                            interface="action-sheet">
                            <ion-select-option *ngFor="let category of categories" [value]="category.value">
                                <ion-icon slot="start" name="add"></ion-icon> {{category.nameEs}}
                            </ion-select-option>
                        </ion-select>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">[T]Nombre Product</ion-label>
                        <ion-input maxlength="50" formControlName="name" type="text" required></ion-input>
                    </ion-item>
                    <ion-row color="primary" justify-content-center>
                        <ion-col class="ion-no-padding" align-self-center size-md="6" size-lg="5" size-xs="6">
                            <ion-item>
                                <ion-label position="floating">[T]Precio</ion-label>
                                <ion-input maxlength="50" formControlName="price" type="number" inputmode="number"
                                    required></ion-input>
                            </ion-item>
                        </ion-col>
                        <ion-col class="ion-no-padding" align-self-center size-md="6" size-lg="5" size-xs="6">
                            <ion-item>
                                <ion-label position="floating">[T]Moneda</ion-label>
                                <ion-select formControlName="currency" okText="Okay" cancelText="Ocultar"
                                    interface="action-sheet" required>
                                    <ion-select-option *ngFor="let currency of currencies" [value]="currency.value">
                                        {{currency.nameEs}}</ion-select-option>
                                </ion-select>
                            </ion-item>
                        </ion-col>
                    </ion-row>
                    <ion-item>
                        <ion-label position="floating">[T]Descripci√≥n</ion-label>
                        <ion-textarea maxlength="1000" formControlName="description" required rows="3"></ion-textarea>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">[T]Lugar donde lo vendes</ion-label>
                        <ion-select formControlName="willaya" cancelText="Ocultar" interface="action-sheet"
                            (ionChange)="onChangeWillaya($event.target.value)">
                            <ion-select-option *ngFor="let willaya of willayas" [value]="willaya.value">
                                {{willaya.nameEs}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                    <ion-item>
                        <ion-label position="floating">[T]Elige Daira</ion-label>
                        <ion-select formControlName="daira" cancelText="Ocultar" interface="action-sheet">
                            <ion-select-option *ngFor="let daira of dairas" [value]="daira.value">
                                {{daira.nameEs}}</ion-select-option>
                        </ion-select>
                    </ion-item>
                    <div class="ion-padding-horizontal ion-padding-vertical">
                        <ion-button fill="outline" size="large" type="submit" [disabled]="!myGroup.valid"
                            expand="block">[T]Crear
                        </ion-button>
                    </div>
                </ion-col>
            </ion-row>
        </ion-grid>
    </form>
</ion-content>